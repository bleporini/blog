
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>WebServices EJB 3&#58; Trop fastoche</title>
    
    <meta name="author" content="Brice LEPORINI">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <link href="/assets/css/tbt.css" rel="stylesheet">
      <link href="/assets/themes/bootstrap/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
      <link href="assets/css/github.css" rel="stylesheet">

      <!--SYNTAX HIGHLIGHTER BEGINS -->
      <link href='/assets/css/shCore.css' rel='stylesheet' type='text/css'/>
      <link href='/assets/css/shThemeDefault.css' rel='stylesheet' type='text/css'/>
      <script src='/assets/js/sh/shCore.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushCpp.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushCSharp.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushCss.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushJava.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushJScript.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushPhp.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushPython.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushRuby.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushSql.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushVb.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushXml.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushPerl.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushScala.js' type='text/javascript'></script>
      <script src='/assets/js/sh/shBrushBash.js' type='text/javascript'></script>
      <script language='javascript'>
          SyntaxHighlighter.config.bloggerMode = true;
          SyntaxHighlighter.config.clipboardSwf = 'http://alexgorbatchev.com/pub/sh/current/scripts/clipboard.swf';
          SyntaxHighlighter.all();
      </script>

      <!--SYNTAX HIGHLIGHTER ENDS-->
  
    <!--[if lt IE 9]>
      <script src="/assets/themes/bootstrap/resources/respond/Respond.min.js"></script>
    <![endif]-->

    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
  <nav class="navbar navbar-default" role="navigation">
      <div class="container">
          <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="/">The Babel Tower</a>
          </div>

          <div class="collapse navbar-collapse navbar-ex1-collapse">
              <ul class="nav navbar-nav">
                  
                  
                  


  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  



              </ul>
          </div>
      </div>
  </nav>

  <div class="container">
      <div class="row">
          <div class="col-md-3 hidden-xs hidden-sm">
              <div class="well">
                  <div class="nav nav-stacked side-bar">

                      <img src="/assets/img/gravatar.jpeg" alt="gravatar">

                      <a href="https://twitter.com/blep" class="twitter-follow-button" data-show-count="false" data-lang="fr" data-size="large">Suivre @blep</a>
                      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

                      
                      


<ul class="post-collate-side">
  
    
    
    
    
  
    
      <li><a data-toggle="collapse" href="#ul2014">2014</a>
        <ul class="collapse post-collate-side" id="ul2014">
            <li>April
             <ul>
    
  
    <li><span>2014-04-25</span> &raquo; <a href="/2014/04/25/test-post">test post</a></li>
  
    
          
        
            </ul></li>
          <li>February</li>
          <ul>
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2014-02-07</span> &raquo; <a href="/2014/02/07/XMLUnit%253A%2Bune%2Bpetite%2Blib%2Bqui%2Bd%25C3%25A9panne%2Bbien">XMLUnit&#58; une petite lib qui dépanne bien</a></li>
  
    
      
             </ul></li>
         </ul></li>
      <li><a data-toggle="collapse" href="#ul2013">2013</a>
        <ul class="collapse" id="ul2013">
            <li>August
             <ul>
      
    
  
    
    
    
    
  
    
  
    <li><span>2013-08-21</span> &raquo; <a href="/2013/08/21/JVM%253A%2BLe%2Bprix%2Bde%2Bl%2527immutabilit%25C3%25A9">JVM&#58; Le prix de l'immutabilité</a></li>
  
    
          
        
            </ul></li>
          <li>April</li>
          <ul>
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2013-04-19</span> &raquo; <a href="/2013/04/19/Why%2BScala%253A%2BLa%2Bstack%2B%25282%252F2%2529">Why Scala&#58; La stack (2/2)</a></li>
  
    
          
        
            </ul></li>
          <li>March</li>
          <ul>
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2013-03-31</span> &raquo; <a href="/2013/03/31/Retour%2Bsur%2BDevoxxFr%2B2013">Retour sur DevoxxFr 2013</a></li>
  
    
          
        
            </ul></li>
          <li>February</li>
          <ul>
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2013-02-22</span> &raquo; <a href="/2013/02/22/Why%2BScala%253A%2BLa%2Bstack%2B%25281%252F2%2529">Why Scala&#58; La stack (1/2)</a></li>
  
    
          
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2013-02-02</span> &raquo; <a href="/2013/02/02/Why%2BScala%253F">Why Scala?</a></li>
  
    
          
        
            </ul></li>
          <li>January</li>
          <ul>
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2013-01-06</span> &raquo; <a href="/2013/01/06/AngularJS%2B%252B%2BPlay%2521%2BFramework%253A%2BAuthentification">AngularJS + Play! Framework&#58; Authentification</a></li>
  
    
      
             </ul></li>
         </ul></li>
      <li><a data-toggle="collapse" href="#ul2012">2012</a>
        <ul class="collapse" id="ul2012">
            <li>October
             <ul>
      
    
  
    
    
    
    
  
    
  
    <li><span>2012-10-27</span> &raquo; <a href="/2012/10/27/Taille%2Bde%2Bsession%2BHTTP">Taille de session HTTP</a></li>
  
    
          
        
            </ul></li>
          <li>August</li>
          <ul>
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2012-08-10</span> &raquo; <a href="/2012/08/10/Java%2Bet%2BVMWare">Java et VMWare</a></li>
  
    
          
        
            </ul></li>
          <li>March</li>
          <ul>
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2012-03-16</span> &raquo; <a href="/2012/03/16/JPA%252C%2BHibernate%2Bet%2Brequ%25C3%25AAte%2Bconstructeur">JPA, Hibernate et requête constructeur</a></li>
  
    
      
             </ul></li>
         </ul></li>
      <li><a data-toggle="collapse" href="#ul2011">2011</a>
        <ul class="collapse" id="ul2011">
            <li>May
             <ul>
      
    
  
    
    
    
    
  
    
  
    <li><span>2011-05-19</span> &raquo; <a href="/2011/05/19/Cr%25C3%25A9ation%2Bd%2527une%2Bmini%2BPKI">Création d'une mini PKI</a></li>
  
    
          
        
            </ul></li>
          <li>February</li>
          <ul>
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2011-02-26</span> &raquo; <a href="/2011/02/26/MVP%2Bet%2BGWT">MVP et GWT</a></li>
  
    
          
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2011-02-18</span> &raquo; <a href="/2011/02/18/Message%2BDriven%2BBean%253A%2Bconfiguration%2Bde%2Bl%2527acc%25C3%25A8s%2B%25C3%25A0%2Bune%2BDestination%2Bs%25C3%25A9curis%25C3%25A9e">Message Driven Bean&#58; configuration de l'accès à une Destination sécurisée</a></li>
  
    
          
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2011-02-18</span> &raquo; <a href="/2011/02/18/MDB%253A%2Butiliser%2Bdes%2BEJB%2Bs%25C3%25A9curis%25C3%25A9s">MDB&#58; utiliser des EJB sécurisés</a></li>
  
    
          
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2011-02-10</span> &raquo; <a href="/2011/02/10/Aspirer%2Bun%2Bsite%2Bavec%2Bwget">Aspirer un site avec wget</a></li>
  
    
          
        
            </ul></li>
          <li>January</li>
          <ul>
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2011-01-31</span> &raquo; <a href="/2011/01/31/Maven%2BSurefire%253A%2BLancer%2Bun%2Bseul%2Btest">Maven Surefire&#58; Lancer un seul test</a></li>
  
    
          
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2011-01-24</span> &raquo; <a href="/2011/01/24/Hibernate%253A%2Bvaleur%2Bdes%2Bparam%25C3%25A8tres%2Bet%2Blog">Hibernate&#58; valeur des paramètres et log</a></li>
  
    
      
             </ul></li>
         </ul></li>
      <li><a data-toggle="collapse" href="#ul2008">2008</a>
        <ul class="collapse" id="ul2008">
            <li>December
             <ul>
      
    
  
    
    
    
    
  
    
  
    <li><span>2008-12-24</span> &raquo; <a href="/2008/12/24/Windows%2Bet%2Bles%2Bvariables%2Bd%2527environnement">Windows et les variables d'environnement</a></li>
  
    
      
             </ul></li>
         </ul></li>
      <li><a data-toggle="collapse" href="#ul2007">2007</a>
        <ul class="collapse" id="ul2007">
            <li>June
             <ul>
      
    
  
    
    
    
    
  
    
  
    <li><span>2007-06-01</span> &raquo; <a href="/2007/06/01/WebServices%2BEJB%2B3%253A%2BTrop%2Bfastoche">WebServices EJB 3&#58; Trop fastoche</a></li>
  
    
          
        
            </ul></li>
          <li>May</li>
          <ul>
        
      
    
  
    
    
    
    
  
    
  
    <li><span>2007-05-09</span> &raquo; <a href="/2007/05/09/Premier">Premier</a></li>
  
    
             </ul></li>
         </ul></li>
     </ul>
    
  




                      <span style='font-size: 130%'><a href='tags.html#mdb-ref'>mdb</a></span>
<span style='font-size: 65%'><a href='tags.html#maven-ref'>maven</a></span>
<span style='font-size: 65%'><a href='tags.html#profiling-ref'>profiling</a></span>
<span style='font-size: 65%'><a href='tags.html#service-ref'>service</a></span>
<span style='font-size: 65%'><a href='tags.html#web-ref'>web</a></span>
<span style='font-size: 65%'><a href='tags.html#xml-ref'>xml</a></span>
<span style='font-size: 65%'><a href='tags.html#junit-ref'>junit</a></span>
<span style='font-size: 65%'><a href='tags.html#windows-ref'>windows</a></span>
<span style='font-size: 65%'><a href='tags.html#jvm-ref'>jvm</a></span>
<span style='font-size: 65%'><a href='tags.html#mvp-ref'>mvp</a></span>
<span style='font-size: 65%'><a href='tags.html#wget-ref'>wget</a></span>
<span style='font-size: 65%'><a href='tags.html#hibernate-ref'>hibernate</a></span>
<span style='font-size: 458%'><a href='tags.html#java-ref'>java</a></span>
<span style='font-size: 65%'><a href='tags.html#j2ee-ref'>j2ee</a></span>
<span style='font-size: 65%'><a href='tags.html#xmlunit-ref'>xmlunit</a></span>
<span style='font-size: 65%'><a href='tags.html#slick-ref'>slick</a></span>
<span style='font-size: 130%'><a href='tags.html#play-ref'>play</a></span>
<span style='font-size: 65%'><a href='tags.html#guava-ref'>guava</a></span>
<span style='font-size: 130%'><a href='tags.html#javaee-ref'>javaee</a></span>
<span style='font-size: 130%'><a href='tags.html#test-ref'>test</a></span>
<span style='font-size: 65%'><a href='tags.html#devoxxfr13-ref'>devoxxfr13</a></span>
<span style='font-size: 65%'><a href='tags.html#gc-ref'>gc</a></span>
<span style='font-size: 130%'><a href='tags.html#javascript-ref'>javascript</a></span>
<span style='font-size: 65%'><a href='tags.html#authentification-ref'>authentification</a></span>
<span style='font-size: 130%'><a href='tags.html#sécurité-ref'>sécurité</a></span>
<span style='font-size: 65%'><a href='tags.html#mutabilité-ref'>mutabilité</a></span>
<span style='font-size: 392%'><a href='tags.html#scala-ref'>scala</a></span>
<span style='font-size: 65%'><a href='tags.html#angularjs-ref'>angularjs</a></span>
<span style='font-size: 65%'><a href='tags.html#jpa-ref'>jpa</a></span>
<span style='font-size: 65%'><a href='tags.html#gwt-ref'>gwt</a></span>
<span style='font-size: 196%'><a href='tags.html#ejb-ref'>ejb</a></span>
<span style='font-size: 65%'><a href='tags.html#immutabilité-ref'>immutabilité</a></span>
<span style='font-size: 65%'><a href='tags.html#bigdata-ref'>bigdata</a></span>
<span style='font-size: 65%'><a href='tags.html#sbt-ref'>sbt</a></span>
<span style='font-size: 65%'><a href='tags.html#visualvm-ref'>visualvm</a></span>
<span style='font-size: 65%'><a href='tags.html#ssl-ref'>ssl</a></span>


                  </div>
              </div>
          </div>
          <div class="col-md-9">
              
<div class="page-header">
  <h1>WebServices EJB 3&#58; Trop fastoche </h1>
</div>

<div class="row post-full">
  <div class="col-md-12">
    <div class="date">
      <span>2007-06-01</span>
    </div>
    <div class="content">
      
Bon alors on va commencer par un petit tuto pour d&eacute;velopper et publier un service web &agrave; l'aide des possibilit&eacute;s offertes par Java et les EJB 3, contrairement &agrave; ce qui &eacute;tait pr&eacute;cedemment n&eacute;cessaire, c'est tr&egrave;s rapide et super facile... (ok &ccedil;a fait un peu recette de cuisine) 
<br /> 
<br />Pour rappel, au niveau de l'architecture, un conteneur d'application va h&eacute;berger notre service et son impl&eacute;mentation est assur&eacute;e par un EJB sans etat (stateless). 
<br /> 
<br />En ce qui concerne les pr&eacute;-requis, vous devez vous assurer de disposer de: 
<ul> 
 <li>Le JDK dans sa version 1.5<br /></li> 
 <li> JBoss IDE 2 beta 2 (bon jamais la version stable??) disponible en bundle <a href="http://prdownloads.sourceforge.net/jboss/JBossIDE-2.0.0.Beta2-Bundle-win32.zip?download">ici</a></li> 
 <li>JBoss AS 4.2.0GA en t&eacute;l&eacute;chargement <a href="http://sourceforge.net/project/showfiles.php?group_id=22866&amp;package_id=16942&amp;release_id=507793">ici</a></li> 
</ul>Une fois que tout est install&eacute;, on va commencer par ouvrir JBoss IDE dans un workspace vierge et y int&eacute;grer l'installation de JBoss AS: 
<br /> 
<ol> 
 <li>Ouvrir la perspective JBoss AS</li> 
 <li>Dans la vue &quot;JBoss Server&quot; : clic droit -&gt; New server</li> 
 <li>S&eacute;lectionner JBoss Inc/JBoss AS 4.0:<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_f_XZMazgnJc/Rl_qc9iZ2gI/AAAAAAAAAJE/yZt4gxUG38I/s1600-h/wsjboss.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="/assets/img/WebServices+EJB+3+Trop+fastoche/wsjboss.jpg" alt="" id="BLOGGER_PHOTO_ID_5071029488718567938" border="0" /></a></li> 
 <li>Donner l'emplacement du serveur et s&eacute;lectionner la configuration (default sera tr&egrave;s bien pour notre tuto):<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_f_XZMazgnJc/Rl_wTtiZ2hI/AAAAAAAAAJM/dPfldytp7QE/s1600-h/wsjboss2.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="/assets/img/WebServices+EJB+3+Trop+fastoche/wsjboss2.jpg" alt="" id="BLOGGER_PHOTO_ID_5071035926874544658" border="0" /></a></li> 
 <li>Dans la vue &quot;JBoss Server&quot; : clic droit sur le serveur cr&eacute;&eacute; et le lancer en debug, la sortie sur la console ne doit normalement pas contenir d'erreur et finir par:</li> 
</ol> 
<span style="font-family:courier new;">12:08:14,062 INFO [Server] JBoss (MX MicroKernel) [4.2.0.GA (build: SVNTag=JBoss_4_2_0_GA date=200705111440)] Started in 47s:812ms</span> 
<br /> 
<ol start="6"> 
 <li>Cr&eacute;ons maintenant notre projet. il s'agit d'un projet EJB 3.0/EJB 3.0 Project:<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_f_XZMazgnJc/RmAQLNiZ2iI/AAAAAAAAAJU/TS0DZ8niVHA/s1600-h/wsjboss3.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="/assets/img/WebServices+EJB+3+Trop+fastoche/wsjboss3.jpg" alt="" id="BLOGGER_PHOTO_ID_5071070965217745442" border="0" /></a></li> 
</ol>S&eacute;lectionner ensuite la configuration de serveur que nou avons pr&eacute;c&eacute;demment d&eacute;fini (default). 
<br /> 
<br />A la cr&eacute;ation du projet, nous rencontron l'erreur (de jeunesse?) suivante: 
<br /> 
<br /> 
<span style="font-size:85%;"><span style="font-family:courier new;">Severity and Description Path Resource Location Creation Time Id<br />Project TestWS is missing required library: 'E:\j2ee\jboss-4.2.0.GA\server\default\deploy\ejb3.deployer\jboss-ejb3x.jar' TestWS Build path 1180700028078 24<br /></span></span> 
<br />Ce qui signifie que le buildpath est configur&eacute; pour trouver le fichier jboss-ejb3x.jar dans un r&eacute;pertoire alors qu'il ne s'y trouve pas... Pas de panique, vous pouvez trouver le fuyard dans le r&eacute;pertoire $JBOSS_HOME/server/default/lib. Une fois le jar manquant copi&eacute; dans le r&eacute;pertoire attendu, demander &agrave; Eclipse de rafra&icirc;chir le contenu du projet pour que la pr&eacute;sence du fichier soit d&eacute;tect&eacute;e et l'erreur dispara&icirc;t. 
<br /> 
<ol start="7"> 
 <li>Afin que les biblioth&egrave;ques n&eacute;cessaires &agrave; la cr&eacute;ation de services web JBoss soient charg&eacute;es, par un clic droit sur la racine du projet, faire appara&icirc;tre le menu contextuel et cliquer sur JBossWS/Add JBossWS nature. Une bo&icirc;te de dialogue appara&icirc;t, les options par d&eacute;faut conviennent &agrave; notre exemple:<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_f_XZMazgnJc/RmAVzNiZ2jI/AAAAAAAAAJc/8csagCKT9Ko/s1600-h/wsjboss4.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="/assets/img/WebServices+EJB+3+Trop+fastoche/wsjboss4.jpg" alt="" id="BLOGGER_PHOTO_ID_5071077149970651698" border="0" /></a></li> 
 <li>Cr&eacute;ons maintenant une classe de base Hello dans le package org.tbt.wstuto:</li> 
</ol> 
<span style="color: rgb(160, 32, 240);font-family:courier new;font-size:85%;">package</span> 
<span style="font-size:85%;"><span style="font-family:courier new;"> org.tbt.wstuto;</span></span> 
<br /> 
<pre><br /><span style="color: rgb(46, 139, 87);"><b>public</b></span> <span style="color: rgb(46, 139, 87);"><b>class</b></span> Hello {<br /><br />}<br /></pre> 
<ol start="9"> 
 <li>Maintenant, nous allons un peu l'agr&eacute;menter en utilisant les annotations et en ajoutant une m&eacute;thode pour notre service:</li> 
</ol> 
<span style="color: rgb(160, 32, 240);font-family:courier new;font-size:85%;">package</span> 
<span style="font-size:85%;"><span style="font-family:courier new;"> org.tbt.wstuto;</span></span> 
<br /> 
<pre><br /><span style="color: rgb(160, 32, 240);">import</span> javax.ejb.Stateless;<br /><span style="color: rgb(160, 32, 240);">import</span> javax.jws.WebMethod;<br /><span style="color: rgb(160, 32, 240);">import</span> javax.jws.WebParam;<br /><span style="color: rgb(160, 32, 240);">import</span> javax.jws.WebService;<br /><br /><span style="color: rgb(160, 32, 240);">@Stateless</span>      <span style="color: rgb(0, 0, 255);">// C'est un EJB sans &eacute;tat</span><br /><span style="color: rgb(160, 32, 240);">@WebService</span> <span style="color: rgb(0, 0, 255);"> // C'est un service Web</span><br /><span style="color: rgb(46, 139, 87);"><b>public</b></span> <span style="color: rgb(46, 139, 87);"><b>class</b></span> Hello {<br /><span style="color: rgb(160, 32, 240);">@WebMethod</span><br /><span style="color: rgb(46, 139, 87);"><b>public</b></span> <span style="color: rgb(46, 139, 87);"><b>int</b></span> world(<span style="color: rgb(160, 32, 240);">@WebParam</span>(name=<span style="color: rgb(255, 0, 255);">&quot;param&quot;</span>)<span style="color: rgb(46, 139, 87);"><b>int</b></span> iParam){<br />       <span style="color: rgb(0, 0, 255);">// Ca c'est sp&eacute;ciale d&eacute;dicace pour VLT!</span><br />       System.out.println(<span style="color: rgb(255, 0, 255);">&quot;Goodbye cruel world...&quot;</span>);<br />       <span style="color: rgb(128, 64, 64);"><b>return</b></span> <span style="color: rgb(255, 0, 255);">0</span>;<br />}<br />}<br /></pre> 
<br /> 
<ol start="10"> 
 <li>Nous allons maintenant configurer l'IDE pour cr&eacute;er notre jar gr&agrave;ce a la packaging configuration d&eacute;finie comme suit:<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_f_XZMazgnJc/RmAYh9iZ2kI/AAAAAAAAAJk/NGLYSQRoG0c/s1600-h/wsjboss5.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="/assets/img/WebServices+EJB+3+Trop+fastoche/wsjboss5.jpg" alt="" id="BLOGGER_PHOTO_ID_5071080152152791618" border="0" /></a></li> 
 <li>Demander de cr&eacute;er le package par la commande Project/Run packaging configuration et le jar appara&icirc;t dans l'arborescence de votre projet.</li> 
 <li>Reste maintenant &agrave; d&eacute;ployer votre service sur le conteneur: en perspective JBoss AS, faire glisser le jar sur notre serveur default dans la vue JBoss server afin de le faire appara&icirc;tre dans les modules. Pour finir demander la publication du jar:<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_f_XZMazgnJc/RmAZ9tiZ2lI/AAAAAAAAAJs/sFvvOluty7M/s1600-h/wsjboss6.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="/assets/img/WebServices+EJB+3+Trop+fastoche/wsjboss6.jpg" alt="" id="BLOGGER_PHOTO_ID_5071081728405789266" border="0" /></a></li> 
</ol>Dans la console, devrait appara&icirc;tre: 
<br /> 
<span style="font-size:85%;"><span style="font-family:courier new;">14:48:40,640 INFO [TomcatDeployer] deploy, ctxPath=/HelloService, warUrl=.../tmp/deploy/TestWS.jar-ws46100.war/<br />14:48:41,109 INFO [JmxKernelAbstraction] creating wrapper delegate for: org.jboss.ejb3.stateless.StatelessContainer<br />14:48:41,140 INFO [JmxKernelAbstraction] installing MBean: jboss.j2ee:jar=TestWS.jar,name=Hello,service=EJB3 with dependencies:<br />14:48:41,625 INFO [EJBContainer] STARTED EJB: org.tbt.wstuto.Hello ejbName: Hello<br />14:48:41,671 INFO [EJB3Deployer] Deployed: file:/E:/j2ee/jboss-4.2.0.GA/server/default/deploy/TestWS.jar<br />14:48:41,703 INFO [WSDLFilePublisher] WSDL published to: file:/E:/j2ee/jboss-4.2.0.GA/server/default/data/wsdl/TestWS.jar/HelloService46098.wsdl<br />14:48:41,781 INFO [ServiceEndpointManager] WebService started: http://localhost:8080/HelloService/Hello</span></span> 
<br /> 
<br /> 
<br />Nous pouvons v&eacute;rifier la pr&eacute;sence de votre service gr&agrave;ce &agrave; JBoss WS 
<a href="http://localhost:8080/jbossws/services">http://localhost:8080/jbossws/services</a> : 
<br /> 
<br /> 
<div class="pageSection"> 
 <fieldset> 
  <legend><b>Registered Service Endpoints</b></legend> 
  <table style="width: 528px; height: 165px;"> 
   <tbody> 
    <tr> 
     <td>ServiceEndpointID</td> 
     <td>jboss.ws:context=HelloService,endpoint=Hello</td> 
    </tr> 
    <tr> 
     <td>ServiceEndpointAddress</td> 
     <td><a href="http://localhost:8080/HelloService/Hello?wsdl">http://localhost:8080/HelloService/Hello?wsdl</a></td> 
    </tr> 
    <tr> 
     <td colspan="2"> 
      <table class="metrics"> 
       <tbody> 
        <tr> 
         <td>StartTime</td> 
         <td>StopTime</td> 
         <td><br /></td> 
        </tr> 
        <tr> 
         <td>Fri Jun 01 14:48:41 CEST 2007</td> 
         <td><br /></td> 
         <td><br /></td> 
        </tr> 
        <tr> 
         <td>RequestCount</td> 
         <td>ResponseCount</td> 
         <td>FaultCount</td> 
        </tr> 
        <tr> 
         <td>0</td> 
         <td>0</td> 
         <td>0</td> 
        </tr> 
        <tr> 
         <td>MinProcessingTime</td> 
         <td>MaxProcessingTime</td> 
         <td>AvgProcessingTime</td> 
        </tr> 
        <tr> 
         <td>0</td> 
         <td>0</td> 
         <td>0</td> 
        </tr> 
       </tbody> 
      </table> </td> 
    </tr> 
    <tr> 
     <td colspan="3"><br /></td> 
    </tr> 
   </tbody> 
  </table> 
 </fieldset> 
</div> 
<br /> 
<h2>Conclusion</h2> 
<br />C'est une bonne illustration de l'apport des annotations: nous &eacute;conomisons ici l'&eacute;criture d'un fichier WSDL, voire d'un fichier de d&eacute;ploiement WSDD. Il n'est nullement besoin non plus d'empaqueter sous forme de war, donc pas non plus de web.xml! 
<br /> 
<br />Trop facile... 
<br /> 
<br />A noter n&eacute;anmoins qu'il semble que le format de l'URL du service soit fig&eacute;e &agrave; http://hostname/ 
<class name="">
  Service/ 
 <class name="">
   , nous avons essay&eacute; de param&eacute;trer un peu dans tous les sens les annotations sans r&eacute;sultat, si quelqu'un &agrave; les moyens d'enrichir le billet &agrave; ce sujet, n'h&eacute;sitez pas... 
 </class> 
</class>

    </div>

    

    
      <ul class="tag_box inline">
        
        


  
     
    		<span class="glyphicon glyphicon-tags"></span>
<li><a href="/tags.html#web-ref">web</a></li>
     
    		<span class="glyphicon glyphicon-tags"></span>
<li><a href="/tags.html#service-ref">service</a></li>
     
    		<span class="glyphicon glyphicon-tags"></span>
<li><a href="/tags.html#j2ee-ref">j2ee</a></li>
     
    		<span class="glyphicon glyphicon-tags"></span>
<li><a href="/tags.html#ejb-ref">ejb</a></li>
    
  



      </ul>
    

      <a href="https://twitter.com/share" class="twitter-share-button" data-via="blep">Tweet</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

      <!-- Placez cette balise où vous souhaitez faire apparaître le gadget Bouton +1. -->
      <div class="g-plusone"></div>

      <!-- Placez cette ballise après la dernière balise Bouton +1. -->
      <script type="text/javascript">
          window.___gcfg = {lang: 'fr'};

          (function() {
              var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
              po.src = 'https://apis.google.com/js/platform.js';
              var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
          })();
      </script>

    <hr>
    
    <ul class="pagination">
      
        <li class="prev"><a href="/2007/05/09/Premier" title="Premier">&larr; Précédent</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next"><a href="/2008/12/24/Windows%2Bet%2Bles%2Bvariables%2Bd%2527environnement" title="Windows et les variables d'environnement">Suivant &rarr;</a></li>
      
    </ul>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'jekyllbootstrap'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
</div>



          </div>
      </div>


      <hr>
      <footer>
          <p>
              &copy; 2014 Brice LEPORINI
          <span class="pull-right text-muted">
            powered by
            <a href="http://dbtek.github.io/jekyll-bootstrap-3" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll-Bootstrap-3</a>
            and <a href="http://getbootstrap.com" target="_blank">Twitter Bootstrap 3.0.3</a>
          </span>
          </p>
      </footer>
  </div>


    

    <script src="/assets/themes/bootstrap/resources/jquery/jquery.min.js"></script>
    <script src="/assets/themes/bootstrap/resources/bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>

